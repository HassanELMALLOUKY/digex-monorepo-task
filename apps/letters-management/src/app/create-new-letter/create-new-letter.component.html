<div class="container-fluid">
  <div class="row">
    <div class="col-3" style="display: flex; align-items: center;">
      <button mat-icon-button (click)="goBackHome()">
        <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="arrow_back"></mat-icon>
      </button>
      <span style="margin-top: 7px; font-weight: bold">BACK TO OVERVIEW</span>
    </div>

    <span class="example-spacer"></span>
    <div class="col-3" style="margin-top: 7px">
      <h3 class="text-center">Letter {{ letterCount+1 }}</h3>
    </div>
    <span class="example-spacer"></span>
    <div class="col-3" style="margin-top: 7px">
      <digex-task-slide-toggle (click)="onPreview()" [style.margin-right.%]="35"></digex-task-slide-toggle>
      <span class="mb-4"></span>
      <digex-task-button [buttonText]="myButtonText" (click)="onSubmit()" ></digex-task-button>
    </div>

  </div>

  <div class="container section-container a4-container" [class.mat-elevation-z2]="true" [style.padding-top.%]="5">
    <div class="row justify-content-end">
      <div class="col-12">
        <img src="https://www.w-ays.de/wp-content/uploads/W-AYS-2017-300x81.png" alt="W-ays" width="10%" height="auto" class="top-right-image" >
      </div>
    </div>
    <div class="form-container">
      @if(!isOnPreview){
        <form>
          <div class="row">
            <div class="form-group">
              <digex-task-input-single-line [label]="'Sender Address'" (dataChanged)="handleDataChange('senderAddress',$event)"></digex-task-input-single-line>
            </div>
          </div>
          <div class="row mb-2" (click)="openDialog()">
            <div class="form-group" >
              <digex-task-input-textarea-dashed [label]="'Receiver Address'" [numberOfRows]="3" [inputValue]="letterManagementService.editAddressData" (dataChanged)="handleDataChange('receiverAddress',$event)"></digex-task-input-textarea-dashed>
            </div>
          </div>
          <div class="row mb-5" (click)="openContactPerson()">
            <div class="form-group">
              <digex-task-input-textarea-dashed [label]="'Contact Person'" [numberOfRows]="2"  [inputValue]="letterManagementService.contactPersonInfo" (dataChanged)="handleDataChange('blockA',$event)"></digex-task-input-textarea-dashed>
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <digex-task-input-single-line [label]="'Subject (optional)'"  (dataChanged)="handleDataChange('subject',$event)"></digex-task-input-single-line>
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <digex-task-input-textarea label="Body" (dataChanged)="handleDataChange('body',$event)"></digex-task-input-textarea>
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <digex-task-input-single-line [label]="'Footnote (optional)'" (dataChanged)="handleDataChange('footNote',$event)"></digex-task-input-single-line>
            </div>
          </div>
        </form>
      } @else {
        <div>
          <p style="font-size: small"><u>{{inputData['senderAddress']}}</u></p>
          <div [innerHtml]="inputData['receiverAddress'].join('<br/>')"></div> <br><br>
          <div [innerHtml]="inputData['blockA'].join('<br/>')"></div><br><br>
          <p style="font-weight: bold">{{inputData['subject']}}</p>
          <p>{{inputData['body']}}</p>
          <p>{{inputData['footNote']}}</p>
        </div>
      }



    </div>
  </div>
  </div>
